!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.StickyBottom=e():t.StickyBottom=e()}(this,function(){return function(s){function o(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return s[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}var i={};return o.m=s,o.c=i,o.i=function(t){return t},o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=7)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},o=function(){function o(t,e){for(var s=0;s<e.length;s++){var o=e[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,e,s){return e&&o(t.prototype,e),s&&o(t,s),t}}();s(2);var l=s(1),i="getBoundingClientRect",n="two-states",r=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);this.props=c({},{elems:{area:".js.sticky-bottom",box:".sticky-bottom__box",boundary:".sticky-bottom__boundary"}},t),this.state={scroll:{},rect:{}},this.onScroll=this.onScroll.bind(this),this.onResize=this.onResize.bind(this)}return o(e,[{key:"init",value:function(){var t=(0,l.qs)(this.props.elems.area);return this.elems={area:t,box:(0,l.qs)(this.props.elems.box,t),boundary:(0,l.qs)(this.props.elems.boundary,t)},this.props.debug&&(this.elems.debug=(0,l.qs)(this.props.debug)),this.props.renderingMode===n&&this.elems.area.classList.add("sticky-bottom--rendering-mode-two-states"),this.initAndUpdateDimensions(),this.updateDOM({forceUpdate:!0}),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResize),this}},{key:"initAndUpdateDimensions",value:function(){return this.state.rect=c({},this.state.rect,{area:this.elems.area[i](),box:this.elems.box[i](),boundary:this.elems.boundary[i]()}),this.state.scroll=c({},this.state.scroll,{viewHeight:(0,l.getViewHeight)(),scrollStartPosition:(0,l.getScrollPosition)(),scrollPosition:(0,l.getScrollPosition)()}),this.updateDimensions(),this}},{key:"updateDimensions",value:function(){var t,e=this.state.scroll.stickyMode,s=this.state.rect.area,o=this.state.scroll,i=o.viewHeight,n=o.scrollStartPosition,r=o.scrollPosition,a=r-(s.top+n),l=s.bottom+n-r-i;return t=s.height-i<=0?"after":a<=0&&0<=l?"before":0<=a&&0<=l?"fixed":"after",this.state.scroll=c({},this.state.scroll,{scrollPosition:r,stickyMode:t,stickyModePrev:e}),this}},{key:"updateDOM",value:function(){var e=this,t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).forceUpdate,s=this.state.rect.area,o=this.state.scroll,i=o.viewHeight,n=o.stickyMode,r=o.stickyModePrev,a=function(){e.elems.debug&&(e.elems.debug.textContent="debug: state after");var t=e.elems.box;t.style.position="absolute",t.style.bottom="",t.style.left="",t.style.width="",(0,l.delCss)(e.elems.area,["sticky-bottom--is-before","sticky-bottom--is-fixed"]),(0,l.addCss)(e.elems.area,"sticky-bottom--is-after")};if("before"===n){if(!t&&r===n)return this;"two-states"===this.props.renderingMode?a():function(){e.elems.debug&&(e.elems.debug.textContent="debug: state before");var t=e.elems.box;t.style.position="absolute",t.style.bottom=s.height-i+"px",t.style.left="",t.style.width="",(0,l.delCss)(e.elems.area,["sticky-bottom--is-fixed","sticky-bottom--is-after"]),(0,l.addCss)(e.elems.area,"sticky-bottom--is-before")}()}else if("fixed"===n){if(!t&&r===n)return this;!function(){e.elems.debug&&(e.elems.debug.textContent="debug: state fixed");var t=e.elems.box;t.style.position="fixed",t.style.bottom="",t.style.left=s.left+"px",t.style.width=s.width+"px",(0,l.delCss)(e.elems.area,["sticky-bottom--is-before","sticky-bottom--is-after"]),(0,l.addCss)(e.elems.area,"sticky-bottom--is-fixed")}()}else if("after"===n){if(!t&&r===n)return this;a()}return this.elems.area.setAttribute("data-sticky-bottom-state",n||"no-state"),this.elems.area.setAttribute("data-sticky-bottom-prev-state",r||"no-prev-state"),this}},{key:"destroy",value:function(){return window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),this}},{key:"onScroll",value:function(){var t=this;this.state.scroll.scrollPosition=(0,l.getScrollPosition)(),this.state.scroll.ticking||(0,l.rAF)(function(){t.updateDimensions(),t.updateDOM(),t.state.scroll.ticking=!1}),this.state.scroll.ticking=!0}},{key:"onResize",value:function(){var t=this;(0,l.rAF)(function(){t.initAndUpdateDimensions(),t.updateDOM({forceUpdate:!0})})}}]),e}();e.default=r},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.qs=function(t,e){return(e||document).querySelector(t)},e.qsa=function(t,e){return[].slice.call((e||document).querySelectorAll(t),0)},e.rAF=function(t){window.requestAnimationFrame?window.requestAnimationFrame(t.bind(this)):setTimeout(t.bind(this),0)},e.getScrollPosition=function(){return window.scrollY||window.pageYOffset||document.documentElement.scrollTop||0},e.getViewHeight=function(){return Math.max(window.innerHeight,0)},e.addCss=function(e,t){t&&Array.isArray(t)?t.forEach(function(t){return e.classList.add(t)}):e.classList.add(t)},e.delCss=function(e,t){t&&Array.isArray(t)?t.forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t)},e.getStickyVendorPrefixAsString=function(){for(var t=document.createElement("div"),e=["sticky","webkitSticky"],s=0;s<e.length;s+=1){var o=e[s];if(t.style.position=o,t.style.position===o)return o}},e.log=console.log.bind(console)},function(t,e){},,function(t,e,s){"use strict";t.exports=s(0).default},,,function(t,e,s){t.exports=s(4)}])});